<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>365 Bolos Premium</title>

<style>

/* ===== GERAL ===== */
body{
font-family: Arial, sans-serif;
margin:0;
}

/* ===== LOGIN (FUNDO ESCURO) ===== */
#login{
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
height:100vh;
background:#111;
color:white;
}

#login h1{
font-size:28px;
}

#login .bolo-grande{
font-size:100px;
margin-bottom:20px;
}

#login input{
padding:10px;
font-size:16px;
margin:10px 0;
}

#login button{
padding:10px 20px;
background:#ff7a00;
color:white;
border:none;
border-radius:8px;
cursor:pointer;
}

/* ===== APP (FUNDO CLARO) ===== */
#app{
display:none;
padding:20px;
background:#f4f4f4;
min-height:100vh;
color:#111;
}

h1{
text-align:center;
}

/* ===== MENU FIXO ===== */
#menuTopo{
position:sticky;
top:0;
background:#ffffff;
padding:10px;
z-index:1000;
border-bottom:1px solid #ddd;
}

#busca{
width:100%;
padding:8px;
border-radius:8px;
border:1px solid #ccc;
margin-bottom:10px;
}

/* ===== MENU CATEGORIAS ===== */
.menuCategorias{
display:flex;
gap:10px;
overflow-x:auto;
}

.menuCategorias button{
background:#ff7a00;
border:none;
color:white;
padding:6px 15px;
border-radius:20px;
cursor:pointer;
white-space:nowrap;
}

/* ===== SE√á√ïES ===== */
.secao{
margin-top:30px;
}

.secao h2{
margin-bottom:10px;
color:#111;
}

/* ===== CARROSSEL ===== */
.carrossel{
display:flex;
gap:15px;
overflow-x:auto;
}

/* ===== CARD ESCURO ===== */
.card{
min-width:260px;
background:#222;
border-radius:20px;
padding:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.2);
cursor:pointer;
transition:0.3s;
color:white;
}

.card:hover{
transform:scale(1.03);
}

.emoji-capa{
font-size:50px;
text-align:center;
}

.card h3{
color:white;
}

/* ===== DETALHES FUNDO BRANCO ===== */
.detalhes{
display:none;
margin-top:15px;
background:white;
color:#111;
padding:15px;
border-radius:15px;
font-size:14px;
}

.detalhes h4{
color:#111;
margin-top:10px;
}

ul{
padding-left:18px;
}

</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
<div class="bolo-grande">üéÇ</div>
<h1>App-365 Bolos</h1>
<input type="password" id="senha" placeholder="Digite a senha">
<button onclick="entrar()">Entrar</button>
</div>

<!-- APP -->
<div id="app">

<div id="menuTopo">
<input type="text" id="busca" placeholder="üîé Buscar receita..." onkeyup="filtrarBusca()">
<div class="menuCategorias" id="menuCategorias"></div>
</div>

<h1>üç∞ 365 Bolos Sem A√ß√∫car, Sem Leite e Sem Gl√∫ten</h1>

<div id="conteudo"></div>

</div>

<script>

function entrar(){
const senha = document.getElementById("senha").value;
if(senha === "1950*"){
document.getElementById("login").style.display="none";
document.getElementById("app").style.display="block";
}else{
alert("Senha incorreta");
}
}

const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSTF1_fDqiUJW1xlBwsMznwLbjZffyNVV0zuRJIEzIav_CsCj8nVuur1ap5iIl0UQyD1q5oOdG5JT3v/pub?gid=0&single=true&output=csv";

let receitas = [];
let categorias = {};

function identificarCategoria(sabor){
sabor = sabor.toLowerCase();

if(sabor.includes("chocolate")) return "üç´ Chocolate";
if(sabor.includes("laranja")) return "üçä Laranja";
if(sabor.includes("coco")) return "ü•• Coco";
if(sabor.includes("banana")) return "üçå Banana";
if(sabor.includes("cenoura")) return "ü•ï Cenoura";
if(sabor.includes("lim√£o") || sabor.includes("limao")) return "üçã Lim√£o";
if(sabor.includes("ma√ß√£") || sabor.includes("maca")) return "üçé Ma√ß√£";
if(sabor.includes("ab√≥bora") || sabor.includes("abobora")) return "üéÉ Ab√≥bora";
if(sabor.includes("morango")) return "üçì Morango";
if(sabor.includes("frutas vermelhas")) return "üçì Frutas Vermelhas";
if(sabor.includes("caf√©") || sabor.includes("cafe")) return "‚òï Caf√©";
if(sabor.includes("pistache")) return "ü•ú Pistache";
if(sabor.includes("am√™ndoa") || sabor.includes("amendoa")) return "üå∞ Am√™ndoas";
if(sabor.includes("castanha")) return "üå∞ Castanhas";
if(sabor.includes("maracuj√°") || sabor.includes("maracuja")) return "ü•≠ Maracuj√°";
if(sabor.includes("abacaxi")) return "üçç Abacaxi";
if(sabor.includes("ameixa")) return "üçë Ameixa";

return null; // REMOVIDO "Outros"
}

function pegarEmoji(sabor){
sabor = sabor.toLowerCase();

if(sabor.includes("chocolate")) return "üç´";
if(sabor.includes("laranja")) return "üçä";
if(sabor.includes("coco")) return "ü••";
if(sabor.includes("banana")) return "üçå";
if(sabor.includes("cenoura")) return "ü•ï";
if(sabor.includes("lim√£o") || sabor.includes("limao")) return "üçã";
if(sabor.includes("ma√ß√£") || sabor.includes("maca")) return "üçé";
if(sabor.includes("ab√≥bora") || sabor.includes("abobora")) return "üéÉ";
if(sabor.includes("morango")) return "üçì";
if(sabor.includes("frutas vermelhas")) return "üçì";
if(sabor.includes("caf√©") || sabor.includes("cafe")) return "‚òï";
if(sabor.includes("pistache")) return "ü•ú";
if(sabor.includes("am√™ndoa") || sabor.includes("amendoa")) return "üå∞";
if(sabor.includes("castanha")) return "üå∞";
if(sabor.includes("maracuj√°") || sabor.includes("maracuja")) return "ü•≠";
if(sabor.includes("abacaxi")) return "üçç";
if(sabor.includes("ameixa")) return "üçë";

return "üç∞";
}

fetch(url)
.then(res => res.text())
.then(data => {

const linhas = data.split("\n").slice(1);

linhas.forEach(linha => {

const col = linha.split(",");
if(col.length < 10) return;

const categoria = identificarCategoria(col[1]);
if(!categoria) return; // ignora se n√£o tiver categoria

const receita = {
nome: col[0],
sabor: col[1],
categoria: categoria,
tempo: col[3],
rendimento: col[4],
dificuldade: col[5],
calorias: col[6],
carbo: col[7],
prote: col[8],
gord: col[9],
fibras: col[10],
validade: col[11],
conservacao: col[12],
utensilios: col[13],
ingredientes: col[14],
preparo: col[15],
dicas: col[16],
substituicoes: col[17]
};

receitas.push(receita);

if(!categorias[receita.categoria]){
categorias[receita.categoria] = [];
}
categorias[receita.categoria].push(receita);

});

criarMenu();
mostrarCategorias();

});
</script>

</body>
</html>
