<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>App-365 Bolos</title>

<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: linear-gradient(180deg, #ff9800, #ffcc80);
}

#login {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.login-box {
  background: #fff;
  padding: 30px;
  border-radius: 16px;
  text-align: center;
  width: 320px;
}

.login-box h1 {
  margin-bottom: 10px;
}

.login-box input {
  width: 100%;
  padding: 14px;
  margin: 15px 0;
  font-size: 16px;
}

.login-box button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  background: #ff9800;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

#app {
  display: none;
}

header {
  background: #ff9800;
  color: #fff;
  padding: 20px;
  text-align: center;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 16px;
  padding: 20px;
}

.card {
  background: #fff;
  border-radius: 14px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
}

.emoji {
  font-size: 48px;
}

.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  overflow-y: auto;
}

.modal-content {
  background: #fff;
  margin: 40px auto;
  padding: 20px;
  border-radius: 12px;
  max-width: 600px;
}

.close {
  float: right;
  cursor: pointer;
  font-size: 20px;
}
</style>
</head>

<body>

<div id="login">
  <div class="login-box">
    <h1>ðŸŽ‚ App-365 Bolos</h1>
    <input type="password" id="senha" placeholder="Digite a senha">
    <button onclick="entrar()">Entrar</button>
  </div>
</div>

<div id="app">
  <header>
    <h2>365 Bolos Sem GlÃºten, Sem AÃ§Ãºcar e Sem Leite</h2>
    <p>1 bolo por dia, o ano inteiro â€” sem culpa</p>
  </header>

  <div class="grid" id="lista"></div>
</div>

<div class="modal" id="modal">
  <div class="modal-content" id="modalContent">
    <span class="close" onclick="fechar()">âœ–</span>
  </div>
</div>

<script>
const SHEET_ID = "1q-B4wKUJtpmjh3MoXae9xR0HVg9EYvsF2QD3guVm_Os";
const ABA = "sheet1";
const URL = `https://opensheet.elk.sh/${SHEET_ID}/${ABA}`;

let receitas = [];

function entrar() {
  if (document.getElementById("senha").value === "1950*") {
    document.getElementById("login").style.display = "none";
    document.getElementById("app").style.display = "block";
    carregar();
  } else {
    alert("Senha incorreta");
  }
}

function emojiPorCategoria(nome) {
  nome = nome.toLowerCase();
  if (nome.includes("chocolate")) return "ðŸ«";
  if (nome.includes("banana")) return "ðŸŒ";
  if (nome.includes("laranja")) return "ðŸŠ";
  if (nome.includes("cenoura")) return "ðŸ¥•";
  if (nome.includes("maÃ§Ã£")) return "ðŸŽ";
  if (nome.includes("coco")) return "ðŸ¥¥";
  return "ðŸŽ‚";
}

function carregar() {
  fetch(URL)
    .then(r => r.json())
    .then(d => {
      receitas = d;
      const lista = document.getElementById("lista");
      lista.innerHTML = "";

      d.forEach((r, i) => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="emoji">${emojiPorCategoria(r.nome)}</div>
          <strong>${r.nome}</strong>
        `;
        card.onclick = () => abrir(i);
        lista.appendChild(card);
      });
    });
}

function abrir(i) {
  const r = receitas[i];
  document.getElementById("modalContent").innerHTML = `
    <span class="close" onclick="fechar()">âœ–</span>
    <h2>${emojiPorCategoria(r.nome)} ${r.nome}</h2>
    <p><b>IdentificaÃ§Ã£o:</b> ${r.identificacao}</p>
    <p><b>Ingredientes:</b> ${r.ingredientes}</p>
    <p><b>Tempo:</b> ${r.tempo}</p>
    <p><b>Temperatura:</b> ${r.temperatura}</p>
    <p><b>Modo de Preparo:</b> ${r.modo_preparo}</p>
    <p><b>TÃ©cnicas:</b> ${r.tecnicas}</p>
    <p><b>Rendimento:</b> ${r.rendimento}</p>
    <p><b>Dificuldade:</b> ${r.dificuldade}</p>
    <p><b>Categoria:</b> ${r.categoria}</p>
    <p><b>ObservaÃ§Ãµes:</b> ${r.observacoes}</p>
  `;
  document.getElementById("modal").style.display = "block";
}

function fechar() {
  document.getElementById("modal").style.display = "none";
}
</script>

</body>
</html>
