<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>365 Bolos</title>

<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: linear-gradient(180deg, #ff9800, #ffcc80);
}

/* LOGIN */
#login {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.login-box {
  background: #fff;
  padding: 30px;
  border-radius: 16px;
  width: 320px;
  text-align: center;
}

.bolo-grande {
  font-size: 72px;
  margin-bottom: 10px;
}

.login-box h1 {
  margin: 10px 0;
}

.login-box input {
  width: 100%;
  padding: 14px;
  margin: 15px 0;
  font-size: 16px;
}

.login-box button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  background: #ff9800;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

/* APP */
#app {
  display: none;
}

header {
  background: #ff9800;
  color: #fff;
  padding: 20px;
  text-align: center;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 16px;
  padding: 20px;
}

.card {
  background: #fff;
  border-radius: 14px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
}

.emoji {
  font-size: 48px;
}

/* MODAL â€“ compatÃ­vel Android */
.modal {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100vh;
  background: rgba(0,0,0,0.7);
  z-index: 9999;
  padding: 20px;
}

.modal-content {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  max-width: 600px;
  margin: 20px auto;
}

.close {
  font-size: 20px;
  cursor: pointer;
  float: right;
}
</style>
</head>

<body>

<div id="login">
  <div class="login-box">
    <div class="bolo-grande">ðŸŽ‚</div>
    <h1>App-365 Bolos</h1>
    <input type="password" id="senha" placeholder="Digite a senha">
    <button onclick="entrar()">Entrar</button>
  </div>
</div>

<div id="app">
  <header>
    <h2>365 Bolos Sem GlÃºten, Sem AÃ§Ãºcar e Sem Leite</h2>
    <p>1 bolo por dia, o ano inteiro â€” sem culpa</p>
  </header>

  <div class="grid" id="lista"></div>
</div>

<div class="modal" id="modal">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
const SHEET_ID = "1q-B4wKUJtpmjh3MoXae9xR0HVg9EYvsF2QD3guVm_Os";
const ABA = "sheet1";
const URL = `https://opensheet.elk.sh/${SHEET_ID}/${ABA}`;

let receitas = [];

function entrar() {
  if (document.getElementById("senha").value !== "1950*") {
    alert("Senha incorreta");
    return;
  }

  fetch(URL)
    .then(r => r.json())
    .then(d => {
      receitas = d;
      document.getElementById("login").style.display = "none";
      document.getElementById("app").style.display = "block";
      render();
    });
}

function emoji(nome) {
  nome = nome.toLowerCase();
  if (nome.includes("chocolate")) return "ðŸ«";
  if (nome.includes("banana")) return "ðŸŒ";
  if (nome.includes("cenoura")) return "ðŸ¥•";
  if (nome.includes("laranja")) return "ðŸŠ";
  if (nome.includes("coco")) return "ðŸ¥¥";
  return "ðŸŽ‚";
}

function render() {
  const lista = document.getElementById("lista");
  lista.innerHTML = "";

  receitas.forEach((r, i) => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="emoji">${emoji(r.nome)}</div>
      <strong>${r.nome}</strong>
    `;
    card.onclick = () => abrir(i);
    lista.appendChild(card);
  });
}

function abrir(i) {
  const r = receitas[i];

  document.getElementById("modalContent").innerHTML = `
    <span class="close" onclick="fechar()">âœ–</span>
    <h2>${emoji(r.nome)} ${r.nome}</h2>
    <p><b>IdentificaÃ§Ã£o:</b> ${r.identificacao}</p>
    <p><b>Ingredientes:</b> ${r.ingredientes}</p>
    <p><b>Tempo:</b> ${r.tempo}</p>
    <p><b>Temperatura:</b> ${r.temperatura}</p>
    <p><b>Modo de Preparo:</b> ${r.modo_preparo}</p>
    <p><b>TÃ©cnicas:</b> ${r.tecnicas}</p>
    <p><b>Rendimento:</b> ${r.rendimento}</p>
    <p><b>Dificuldade:</b> ${r.dificuldade}</p>
    <p><b>Categoria:</b> ${r.categoria}</p>
    <p><b>ObservaÃ§Ãµes:</b> ${r.observacoes}</p>
  `;

  document.getElementById("modal").style.display = "block";
}

function fechar() {
  document.getElementById("modal").style.display = "none";
}
</script>

</body>
</html>
